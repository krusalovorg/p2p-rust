# P2P - NEW P2P DATABASE
=====================================

## Обзор
------------

Этот проект реализует децентрализованную сеть для распределения данных и ресурсов между пользователями. Сеть построена на основе архитектуры peer-to-peer (P2P), что позволяет пользователям обмениваться ресурсами и доступом к ним без необходимости в центральном сервере.

## Начало работы
---------------

### Предварительные требования

* Язык программирования Rust (версия 1.51 или выше)
* Менеджер пакетов Cargo (версия 1.51 или выше)
* Фреймворк Tokio (версия 1.20 или выше)
* Библиотека async-std (версия 1.10 или выше)
* База данных leveldb (версия 0.10 или выше)

### Сборка и запуск

1. Клонировать репозиторий: `git clone https://github.com/your-repo/decentralized-network.git`
2. Перейти в директорию проекта: `cd decentralized-network`
3. Собрать проект с помощью Cargo: `cargo build`
4. Запустить проект с помощью  `cargo run` (для Linux/Mac/Windows)
5. Деплой на сервер (предпочтительно Linux: Ubuntu, Debian) с помощью `deploy.bat`

### Развертывание

1. Простой вариант:
Скрипт `deploy.bat` используется для быстрой загрузки на ваш сервер.
Если вы билдите проект уже на сервере, достаточно использовать `cargo run --release`.

2. Докер контейнер:
1. `docker build -t my-p2p-server .`
2. Откройте файл `config.toml` и настройте необходимые параметры
signal_server_ip = "0.0.0.0"
signal_server_port = 3031
3. `docker run my-p2p-server`

Готово! Ваш сигнальный сервер выведет лог:
`Signal server running on 0.0.0.0:3031`

## Структура проекта
-------------------

Проект состоит из следующих модулей:

* `src/db`: Модуль базы данных для хранения и извлечения данных, использует LevelDB (peer/signal peer)
* `src/connection`: Actor-модуль подключения для установления и управления P2P-соединениями (peer)
* `src/main`: Основной модуль для запуска инициализации всех процессов (peer/signal peer)
* `src/tunnel`: Модуль для развертки тунеля между пирами (peer)
* `src/signal`: Модуль для работы с сигнальным сервером (промежуточное решение, в дальнейшем интегрирую в пира)
* `src/signal/client`: Модуль клиента для сигнального сервера (промежуточное решение, в дальнейшем интегрирую в пира)
* `src/signal/server`: Модуль для развертки сигнального сервера
* `Cargo.toml`: Файл конфигурации проекта

## Как это работает
----------------

Децентрализованная сеть работает следующим образом:

1. Пир подключается к сигнальному серверу (пир с статическом айпи и открытыми портами), с помощью `signal/client.rs`
2. Пиры "договариваются" друг с другом через сигнальный сервер об обмене файлами.
3. Если пиры договорились, пробуют создать прямое соеденение (тунель) `tunnel`, если не получилось подключиться напрямую то общаются через посредника (сигнальный сервер).
4. Параллельно пир может подключаться к другим пирам.

## Возможности
------------

* Децентрализованная архитектура P2P
* Обмен ресурсами и доступом (in development)
* Хранение и извлечение данных (in development)
* Создание и управление туннелями (in development)

## Будущее развитие
--------------------

* Реализация сквозного шифрования и улучшение безопасности
* Улучшение масштабируемости и производительности, интеграция маршрутизации между пирами
* Добавление поддержки портативных устройств (реализация развертки wifi-mesh сетей)
* Разработка пользовательского интерфейса для взаимодействия с сетью
* Разработка мобильного приложения для Android, Ios